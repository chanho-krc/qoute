const fs = require('fs');
const path = require('path');

// 카테고리별 명언 데이터
const quotesData = {
  "성공": [
    "성공은 준비된 자에게 찾아오는 기회다. - 루이 파스퇴르",
    "노력은 절대 배신하지 않는다. - 이치로",
    "재능은 노력으로 완성된다. - 박지성",
    "로마는 하루아침에 이루어지지 않았다. - 서양 속담",
    "실패는 성공의 어머니다. - 한국 속담",
    "99%의 노력과 1%의 영감이 천재를 만든다. - 토마스 에디슨",
    "승리자는 절대 포기하지 않고, 포기하는 자는 절대 승리하지 못한다. - 빈스 롬바디",
    "기회는 준비된 자에게만 온다. - 루이 파스퇴르",
    "성공이란 열정을 잃지 않고 실패를 거듭하는 것이다. - 윈스턴 처칠",
    "당신이 할 수 있다고 믿든 할 수 없다고 믿든, 당신의 믿음이 옳다. - 헨리 포드",
    "성공의 비결은 단 하나, 자신이 사랑하는 일을 찾아 열정적으로 하는 것이다. - 스티브 잡스",
    "거대한 참나무도 작은 도토리에서 자란다. - 서양 속담",
    "꿈을 계속 간직하고 있으면 반드시 실현할 때가 온다. - 괴테",
    "성공한 사람이 되려고 노력하기보다는 가치 있는 사람이 되려고 노력하라. - 알베르트 아인슈타인",
    "위대한 일들은 한 순간에 이루어지는 것이 아니라 작은 일들이 모여서 이루어진다. - 빈센트 반 고흐",
    "성공하는 사람은 실패에서 배우고, 실패하는 사람은 성공에서 배운다. - 워렌 버핏",
    "완벽함은 달성해야 할 목표가 아니라 추구해야 할 방향이다. - 레오나르도 다 빈치",
    "성공은 마지막 순간에 포기하지 않는 것이다. - 나폴레옹 힐",
    "행운은 준비성과 기회가 만나는 곳에서 생긴다. - 세네카",
    "성공의 열쇠는 실패를 두려워하지 않는 것이다. - 빌 게이츠"
  ],
  "인생": [
    "인생은 가까이서 보면 비극이지만 멀리서 보면 희극이다. - 찰리 채플린",
    "살아있는 한 희망은 있다. - 키케로",
    "어제는 지나갔고, 내일은 오지 않았다. 우리에게는 오직 오늘이 있을 뿐이다. - 마더 테레사",
    "세 살 버릇 여든까지 간다. - 한국 속담",
    "나는 생각한다, 고로 존재한다. - 데카르트",
    "인생의 목적은 행복이다. - 아리스토텔레스",
    "행복은 습관이다. 그것을 몸에 지니라. - 허버드",
    "삶이 있는 한 희망이 있다. - 키케로",
    "인생은 10%의 일어나는 일과 90%의 그것에 반응하는 것이다. - 찰스 스윈돌",
    "가장 큰 위험은 위험을 감수하지 않는 것이다. - 마크 저커버그",
    "인생은 스스로 선택하는 것이다. - 장 폴 사르트르",
    "우리는 운명을 피할 수 없다. 단지 받아들일 뿐이다. - 칼 구스타프 융",
    "인생에서 가장 중요한 것은 사랑하는 것과 사랑받는 것이다. - 존 레논",
    "행복한 인생을 살기 위해서는 작은 것들을 사랑해야 한다. - 볼테르",
    "인생은 짧지만 예술은 길다. - 히포크라테스",
    "모든 인간은 죽음을 두려워하지만, 진정으로 살지 못한 것을 더 두려워해야 한다. - 버트런드 러셀",
    "인생의 가장 큰 영광은 넘어지지 않는 것이 아니라 넘어질 때마다 일어서는 것이다. - 넬슨 만델라",
    "인생은 도전이다. 그것을 맞서라. - 마더 테레사",
    "인생에서 실패한 사람 중 다수는 포기할 때 성공에 얼마나 가까이 있었는지 깨닫지 못한 사람들이다. - 토마스 에디슨",
    "인생은 학교다. 여기서 불행은 행복보다 더 좋은 선생님이다. - 프리다 칼로"
  ],
  "도전": [
    "실패를 두려워하지 마라. 시도하지 않는 것을 두려워하라. - 마이클 조던",
    "천 리 길도 한 걸음부터. - 한국 속담",
    "시작이 반이다. - 한국 속담",
    "불가능은 없다. 단지 시도하지 않았을 뿐이다. - 나폴레옹",
    "한계는 자신이 만드는 것이다. - 브루스 리",
    "도전 없이는 발전도 없다. - 프랭클린 루스벨트",
    "열 번 찍어 안 넘어가는 나무 없다. - 한국 속담",
    "변화를 두려워하지 마라. 성장의 기회다. - 스티브 잡스",
    "위대한 일을 성취하려면 행동할 뿐만 아니라 꿈도 꾸어야 한다. - 아나톨 프랑스",
    "오르막길이 힘든 이유는 정상이 그만큼 가치 있기 때문이다. - 헨리 워드 비처",
    "시련은 인간을 강하게 만든다. - 빅터 위고",
    "새로운 시작을 두려워하지 마라. 결국 인생은 도전의 연속이다. - 파울로 코엘료",
    "모든 성취는 시작하려는 결심에서 비롯된다. - W. A. 워드",
    "도전은 인생을 흥미롭게 만들고, 도전의 극복은 인생을 의미 있게 만든다. - 조슈아 마린",
    "편안함을 추구하는 것은 성장의 적이다. - 빌 에크하르트",
    "두려움은 당신이 성장할 곳을 가리키는 나침반이다. - 잭 캔필드",
    "위험을 감수하지 않으면 아무것도 얻을 수 없다. - 테드 터너",
    "모든 전문가는 한때 초보자였다. - 헬렌 헤이스",
    "불가능해 보이는 일도 시작하면 가능해진다. - 넬슨 만델라",
    "도전하지 않으면 변화도 없다. - 버락 오바마"
  ],
  "희망": [
    "희망은 깃털 달린 새다. - 에밀리 디킨슨",
    "절망은 신에 대한 죄악이다. - 톨스토이",
    "어둠이 깊을수록 별빛은 더욱 밝게 빛난다. - 도스토예프스키",
    "희망을 품고 살아가는 것은 아름다운 일이다. - 안네 프랑크",
    "내일은 또 다른 날이다. - 마가렛 미첼",
    "꿈을 계속 간직하고 있으면 반드시 실현할 때가 온다. - 괴테",
    "절망의 끝에서 희망이 시작된다. - 윌리엄 블레이크",
    "미래는 현재 우리가 무엇을 하느냐에 달려 있다. - 마하트마 간디",
    "모든 끝은 새로운 시작이다. - T.S. 엘리엇",
    "희망은 마음의 새다. 영혼에 깃들어 가사 없는 노래를 부른다. - 에밀리 디킨슨",
    "희망은 꿈을 현실로 만드는 힘이다. - 크리스토퍼 리브",
    "아무리 어둠이 깊어도 빛은 반드시 온다. - 마틴 루터 킹",
    "희망을 잃지 마라. 그것이 인생의 마지막 보루다. - 찰스 디킨스",
    "절망적인 상황이란 없다. 절망적인 사람이 있을 뿐이다. - 하인츠 구데리안",
    "희망은 인간에게 주어진 가장 큰 선물이다. - 파퓰러 세이잉",
    "내일의 태양은 어제의 그림자를 쫓는다. - 파블로 네루다",
    "희망이 있는 곳에 삶이 있고, 삶이 있는 곳에 희망이 있다. - 안네 프랑크",
    "가장 어두운 시간은 새벽 직전이다. - 토마스 풀러",
    "희망은 절망보다 강하다. - 데스몬드 투투",
    "희망을 가지고 여행하는 것이 도착하는 것보다 낫다. - 로버트 루이 스티븐슨"
  ],
  "자기계발": [
    "배우기를 멈추는 사람은 늙은 것이다. 20세든 80세든. - 헨리 포드",
    "지식에 투자하는 것이 가장 높은 이율을 낸다. - 벤자민 프랭클린",
    "오늘 하루도 배우며 살자. - 소크라테스",
    "책을 읽지 않는 사람은 글을 읽지 못하는 사람과 차이가 없다. - 마크 트웨인",
    "습관이 인생을 만든다. - 아리스토텔레스",
    "자신에게 투자하라. 그것이 최고의 투자다. - 워렌 버핏",
    "백문이 불여일견. - 한국 속담",
    "너 자신을 알라. - 소크라테스",
    "작은 일에 충실하라. 그것이 당신의 힘이 있는 곳이다. - 마더 테레사",
    "학문에는 왕도가 없다. - 유클리드",
    "독서는 정신의 양식이다. - 키케로",
    "경험은 가장 훌륭한 교사다. - 율리우스 카이사르",
    "매일 조금씩 발전하라. 그것이 성공의 길이다. - 존 우든",
    "자기 자신이 될 용기를 가져라. - 오스카 와일드",
    "완벽을 추구하되 완벽주의에 빠지지는 마라. - 살바도르 달리",
    "변화하고 싶다면 먼저 자신을 변화시켜라. - 마하트마 간디",
    "실수는 배움의 기회다. - 존 C. 맥스웰",
    "인내는 쓰지만 그 열매는 달다. - 아리스토텔레스",
    "지혜는 경험의 딸이다. - 레오나르도 다 빈치",
    "자기계발에 투자한 시간은 결코 낭비가 아니다. - 나폴레옹 힐"
  ]
};

// 명언을 JSON 형식으로 변환하는 함수
function createQuoteObject(text, author, category, id) {
  return {
    _id: id,
    text: text,
    author: author,
    category: category,
    used: false,
    source: "remote"
  };
}

// 500개 명언 생성
function generate500Quotes() {
  const quotes = [];
  const categories = Object.keys(quotesData);
  
  // 기존 20개 명언 복사 (각 카테고리당 4개씩)
  categories.forEach((category, catIndex) => {
    const categoryQuotes = quotesData[category];
    
    // 각 카테고리별로 100개씩 생성
    for (let i = 0; i < 100; i++) {
      const quoteIndex = i % categoryQuotes.length; // 순환하여 사용
      const [text, author] = categoryQuotes[quoteIndex].split(' - ');
      
      const id = `remote_${String(catIndex + 1).padStart(1, '0')}${String(i + 1).padStart(2, '0')}`;
      quotes.push(createQuoteObject(text, author, category, id));
    }
  });
  
  return quotes;
}

// 통계 정보 생성
function generateStats(quotes) {
  const stats = {
    total: quotes.length,
    byCategory: {},
    generatedAt: new Date().toISOString(),
    version: "2.0.0"
  };
  
  quotes.forEach(quote => {
    if (!stats.byCategory[quote.category]) {
      stats.byCategory[quote.category] = 0;
    }
    stats.byCategory[quote.category]++;
  });
  
  return stats;
}

// 파일 생성
try {
  console.log('🚀 500개 명언 생성 시작...');
  
  const quotes = generate500Quotes();
  const stats = generateStats(quotes);
  
  // quotes.json 파일 생성
  const quotesPath = path.join(__dirname, '../github-database/quotes.json');
  fs.writeFileSync(quotesPath, JSON.stringify(quotes, null, 2), 'utf8');
  
  // stats.json 파일 업데이트
  const statsPath = path.join(__dirname, '../github-database/stats.json');
  fs.writeFileSync(statsPath, JSON.stringify(stats, null, 2), 'utf8');
  
  console.log('✅ 완료!');
  console.log(`📊 총 ${quotes.length}개 명언 생성`);
  console.log('📁 파일 위치:');
  console.log(`   - ${quotesPath}`);
  console.log(`   - ${statsPath}`);
  console.log('\n📈 카테고리별 현황:');
  Object.entries(stats.byCategory).forEach(([category, count]) => {
    console.log(`   - ${category}: ${count}개`);
  });
  
} catch (error) {
  console.error('❌ 오류 발생:', error.message);
} 